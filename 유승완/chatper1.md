# 파이썬 데이터 모델

## 파이썬 데이터 모델이란?

> 파이썬 객체들이 어떻게 행동해야 하는지를 정의해 놓은 인터페이스(프로토콜) 모음
- 객체가 파이썬스럽게 작동하게 해주는 약속된 규칙
- 객체가 어떤 동작을 하려면 구현해야 할 메서드 규칙
- 인터페이스(프로토콜)이란 말이 추상적인데 무슨 말일까?
  - 파이썬이 객체한테 "이런 기능들을 기대할게" 하는 약속, 규칙
  - 게임에서 캐릭터의 이동, 공격 등 공통적으로 가져야하는 기능
  - 캐릭터마다 기능 작동 방식(이동 방식, 공격 방식)이 다를 순 있지만, 해당 기능들은 있어야함
  - 프로토콜 : 특정한 기능을 하려면 갖춰야 할 메서드 묶음
  - 자바처럼 상속받을 필요 없이, 매서드만 구현되어 있으면 된다(이걸 duck typing이라고 함 -> 오리처럼 걷고, 오리처럼 꽥꽥거리면 걔는 오리다! -> 상속 안했더라도 ABC에서 요구한 것만 구현해놓으면 해당 ABC를 따른다라고 간주!)
- **내 느낌** : *모든 클래스들에서 구현될만한 함수들을 미리 정해서 다 만들어놓은 거 같다. 그럼 파이썬을 활용하여 개발한 모든 코드가 일관적이고 직관적이 될 수 있으니까*
## 파이썬 데이터 모델 리스트
- 컬렉션
- 속성 접근
- 반복
- 연선자 오버로딩
- 함수와 함수 및 메서드 호출
- 문자열 표현 및 포맷
- 비동기 프로그래밍
- 객체 생성 및 제거
- 콘텍스트 매니저

## 특별 메서드(magic method or dunder method)
- 양쪽에 언더바 두 개가 붙은 매서드
  - *ex) __init__, __len__, __add__, __str__ 등등*
- 사용자가 호출하는 것이 아닌 인터프리터가 호출해주는 매서드
  - *len([1,2,3]) --> 실제로는 [1,2,3].__len() 호출*
  - *1 + 2 --> 실제로는 (1).__add__(2)*
  - *str(obj) --> obj.__str__()*
- **파이썬 데이터 모델은 특별 메서드들의 총집합이자 설계도**
  - 파이썬은 내부적으로 "어떤 기능을 하려면 이 특별 메서드 구현해"
  - 이 모든 약속을 묶어둔 것이 파이썬 데이터 모델
- 새로 알게된 특별 메서드
  - *__repr()__ --> 객체에 대한 문자열 표현 -> 디버깅시 필요*

## 컬렉션 클래스
- 여러개의 값을 담을 수 있는 파이썬의 자료구조 클래스들
  - 단일 값 말고 / 여러 개의 값들을 / 일정한 구조/형식으로 / 담고 꺼내고 다룰 수있게 해주는 클래스들!
  - list, tuple, set, frozenset, dict, deque
 - 컬렉션 클래스들은 모두 추상 베이스 클래스(ABC)
### 추상 베이스 클래스란?
- "이런 기능을 하려면 이런 메서드를 구현해야해" 라고 **약속(인터페이스)만 정의**한 클래스
- 직접 인스턴스화는 안 되고 상속하거나 따르기만 해도 파이썬이 인식
  - 직접 상속을 안하더라도 ABC(규칙집)가 요구하는 메서드를 모두 구현했으면 그 규칙대로 동작하는 것이기 때문에 따른다라고 표현
- 컬렉션 클래스들은 추상 베이스 클래스들을 구현한 것!
  - ex) list는 collection.abc.MutableSequeunce를 따름 -> append(), __getitem__() 이런거 있겠구나 예측 가능
### 컬렉션 ABC 구조
- iterable (최상위 조상)
  - container (멤버쉽 테스트 지원 (in연산자) / 유틸 ABC)
  - sized (크기 측정 지원 (len) / 유틸 ABC)
  - collection -> Iterable + container + sized 조합된 상위 그룹
    - sequence
      - mutablesequence
    - set
      - mutableset
    - mapping
      - mutablemapping
  - 유틸 ABC란?
    - >컬렉션 타입들이 공통으로 가지고 있는 기본 기능을 쪼개서 정의 한 추상 베이스 클래스
    - list 처럼 완성된 컬렉션이 아니더라도 어떤 객체가 길이만 있어도 sized, in 연산만 가능하면 container, 반복만 가능하면 iterable로 간주
    - 왜 유틸? -> 독립적인 컬렉션 클래스는 아니고 컬렉션들이 공통적으로 구현하고 있는 **기능 단위 인터페이스**
    - 하나의 유틸ABC만 가지고 클래스 만들 수 있음
      - 필요한 기능이 많지 않으면 해당 기능 유틸ABC만 상속해서 구현하면 필요한 기능만 최소한으로 구현할 수 있고 이렇게 되면 코드가 더 가볍고 명확해진다

### 컬렉션 API
 - 데이터를 담을 수 있는 컨테이너들에 대해 제공하는 함수/메서드/기능들 모음
 - 리스트, 튜플, 딕셔너리, 셋 같은 컬렉션 타입에 대해 파이썬이 제공해주는 기본 기능들(API)