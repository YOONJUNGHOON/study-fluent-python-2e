#코드공부

#6.2

할당문은 동일한 내용물을 복사하는게 아니다. 레이블이 붙은 객체에 다른 레이블을 붙이는 것임.
변수가 객체에 할당되었다 라고 하지 객체가 객체가 변수에 할당되었다 라고 하지 않음.
할당보다 바인딩한다 라는 말이 적절함.
할당문을 이해하려면 언제나 오른쪽을 먼저 읽어라
변수는 단지 레이블일 뿐 객체에 레이블을 여러개 붙이지 못할 이유가 없다.

#6.3

==(동치)연산자는 객체의 값을 비교하고, is 연산자는 객체의 정체성을 비교한다.

list, dict, set 등 컬렉션과 튜플은 객체에 대한 참조를 담음.
str, bytes, array.array같은 단일형 시퀀스들은 참조 대신 문자,바이트, 숫자 등 데이터를 물리적으로 연속된 메모리에 저장함.
참조된 항목이 가변형이면 참조 항목은 변동 가능함.
튜플의 불변성은 튜플 구조체의 물리적 내용을 말하며 참조된 객체까지 불변성을 갖지 않음.

#6.4

리스트나 대부분의 내장 가변 컬렉션을 복사하는 가장 쉬운 방법은 자료형 자체의 내장 생성자를 사용하는 것임.

ex) l1 = [ 1, 2, 3]
l2 = list(l1)
>>l1의 사본을 생성함. 서로 다른 객체, 값은 같음.
l2 = [1, 2, 3]
l1 == l2 true
l1 is l2 false

생성자 [:]을 사용하면 얕은 사본을 생성함.
최상위 컨테이너는 복제하지만, 사본은 원래 컨테이너에 들어있던 동일 객체에 대한 참조로 채워짐.

copy 모듈에서 deepcopy 는 깊은 복사, copy 는 얕은 복사를 수행함.

#6.5

파이썬은 공유로 호출하는 매개변수 전달 방식만을 지원함.
객체 자체를 복사하지 않고, 객체를 가리키는 주소를 함수 내부에서 공유하는 방식임.
따라서 가변 객체를 변경할 수는 있지만, 객체 정체성 자체를 변경할 수는 없음.

기본값이 있는 선택 인수는 파이썬 정의에서 아주 좋은 기능으로 하위 호환성을 유지하며 api를 개선하게 해줌. 그러나 매개변수 기본값으로 가변 객체를 사용하면 버그 발생할 수도 잇음.
>>파이썬의 기본값이 함수가 정의될때 단 한번만 평가되기 때문임. 매개변수는 참조의 방식으로 호출하는데 가변객체를 지정하게 되면 가변객체의 계속 값이 쌓임.
그렇기 때문에 계속 쌓인 상태에서 해당 객체를 참조하는거고 버그가 발생함.
none 으로 지정할것!

따라서 가변 매개변수를 받는 함수를 구현할 때는 전달된 인수가 변경되리라고 호출자가 예상할 수 있을지 고려해야 함.

#6.6

del은 참조를 제거할 뿐 객체를 제거하지 않음.

#6.7

튜플에서는 t[:]와 tuple(t)는 사본을 생성하지 않고 참조를 반환함.
str, bytes, frozenset 인스턴스에서도 동일함.

문자열 리터럴을 공유하는 최적화 기법을 인터닝이라고 함.
>>어느 범위까지 참조를 공유하는건지?
영문 알파벳 + 숫자, 짧은 문자열, 키워드 등은 자동 인터닝되도록 설정되어있음.
str.isidentifier()가 true 인 문자열은 대부분 intern 대상임.
